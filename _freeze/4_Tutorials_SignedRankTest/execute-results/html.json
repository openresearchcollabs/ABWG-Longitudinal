{
  "hash": "022a78bfbd11d8f1b65125f229bfb23d",
  "result": {
    "markdown": "---\ntitle: \"Signed-Rank Test\"\nauthor: \"Biostatistics Working Group\"\n---\n\n\n## Overview\nThe Signed-rank test, commonly referred to as the Wilcoxon signed-rank test, is a non-parametric statistical method used yo compare two related samples or repeated measurements on a single sample. Favored across fields like psychology, medicine, and economics, this test shines when data deviates from the assumptions of parametric tests, offering a robust alternative for evaluating median differences. Particularly beneficial for paired data, the signed-rank test delves into the depth of data, unveiling the nuances of change across two points in time. By addressing the ties and ranks within paired observations, this test imparts a comprehensive understanding of data distributions. It's the \"ranking\" and \"signing\" of these paired differences that give this method its distinctive name.\n\n![Signed-Rank Test](./figures/signedrank.png)\n### When to use a Signed-Rank Test?\nYou should use a Wilcoxon Signed-Rank Test in the following scenario:\n\n1.\tYou want to know if two groups are different on your variable of interest\n2.\tYour variable of interest is continuous\n3.\tYou have two and only two groups\n4.\tYou have independent samples\n5.\tYou have a skewed variable of interest\n\n### Getting Started with Longitudinal Signed-Rank Test\n\nIn this tutorial, we will introduce the concept of the longitudinal signed-rank test and guide you through a simple example using a small dataset. By the end of this tutorial, you will be able to:\n\n1. Understand the basic concepts of the longitudinal signed-rank test.\n2. Perform a longitudinal signed-rank test using example data in R.\n3. Interpret the results of the test.\n\n## Basic Example\nIn this tutorial, we will begin by generating a sample dataset directly within R to ensure everyone has the same starting point and can follow along without needing to download or access external files. This generated dataset will serve as our example throughout this tutorial. In your own analyses, you'll likely start by importing your own data.\n\nThe simulated dataset created for this example consists of scores on a single outcome variable (\"Job_Satisfaction\") for 500 individuals each measured at two time points: T1-T2. \n\n#### Create Example Dataset\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-1_027635c2f81f017b27f1cc90d7911cc9'}\n\n```{.r .cell-code}\n# Setting the number of individuals for our sample data\nn <- 500\n\n# Specifying the desired correlation matrix for our data (2x2 for two time points)\ncor_matrix <- matrix(c(1, 0.30, \n                      0.30, 1),\n                      nrow=2)\n\n# Using Cholesky decomposition to generate correlated data\ncholesky <- chol(cor_matrix)\n\n# Generating correlated random data for 2 timepoints\nrandom_data <- matrix(rnorm(n * 2), ncol=2)\ncorrelated_data <- random_data %*% cholesky\n\n# Converting the generated data into a structured data frame in wide format\ndata_wide <- data.frame(\n  Individual = 1:n,\n  Job_Satisfaction_T1 = correlated_data[,1],\n  Job_Satisfaction_T2 = correlated_data[,2]\n)\n```\n:::\n\n\n#### View Dataset\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-2_3f3cb46ee9954de70fed1a2bf5a82830'}\n\n```{.r .cell-code}\nhead(data_wide)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"Individual\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"Job_Satisfaction_T1\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Job_Satisfaction_T2\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"-0.3503883\",\"3\":\"0.8867951\",\"_rn_\":\"1\"},{\"1\":\"2\",\"2\":\"0.9948452\",\"3\":\"0.1197821\",\"_rn_\":\"2\"},{\"1\":\"3\",\"2\":\"-0.7293568\",\"3\":\"-0.3423198\",\"_rn_\":\"3\"},{\"1\":\"4\",\"2\":\"1.4349993\",\"3\":\"1.6341008\",\"_rn_\":\"4\"},{\"1\":\"5\",\"2\":\"0.7112669\",\"3\":\"1.0189228\",\"_rn_\":\"5\"},{\"1\":\"6\",\"2\":\"-0.6390524\",\"3\":\"-0.9474545\",\"_rn_\":\"6\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Model Specification and Estimation\nTo conduct a Signed Rank Test, we will leverage the `stats` package in R, specifically the `wilcox.test` function. This non-parametric test is employed when tracking changes in a single group over two time points. In the Signed Rank Test, we aim to test the hypothesis that the distribution of differences between paired measurements remains symmetric about zero, without making assumptions about the specific form of the population distribution.\n\n#### Install and Load Necessary Libraries\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-3_70a59eb2765d317d7597f1b35356a135'}\n\n```{.r .cell-code}\n# Load necessary packages\nif (!(\"stats\" %in% installed.packages())) install.packages(\"stats\")\nlibrary(stats)\n```\n:::\n\n\n#### Model\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-4_14d9b92740dc415cb4870f913a369b62'}\n\n```{.r .cell-code}\n# Conducting the Wilcoxon Signed-Rank Test\ntest_result <- wilcox.test(data_wide$Job_Satisfaction_T1, data_wide$Job_Satisfaction_T2, paired = TRUE)\n```\n:::\n\n\n#### Model Summary\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-5_ddf5094b2b7a8b54df48672b340b1ac1'}\n\n```{.r .cell-code}\n# Displaying the result\nprint(test_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWilcoxon signed rank test with continuity correction\n\ndata:  data_wide$Job_Satisfaction_T1 and data_wide$Job_Satisfaction_T2\nV = 61071, p-value = 0.6308\nalternative hypothesis: true location shift is not equal to 0\n```\n:::\n\n```{.r .cell-code}\nsummary(test_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            Length Class  Mode     \nstatistic   1      -none- numeric  \nparameter   0      -none- NULL     \np.value     1      -none- numeric  \nnull.value  1      -none- numeric  \nalternative 1      -none- character\nmethod      1      -none- character\ndata.name   1      -none- character\n```\n:::\n:::\n\n\n### Interpreting the Results\nThe Wilcoxon signed-rank test was conducted to compare Job Satisfaction scores at two time points: T1 and T2. This test is a non-parametric alternative to the paired t-test and is suitable when the data might not meet the normality assumption. The test yielded a W statistic of W=6.1071\\times 10^{4}. The associated p-value is p=0.631. If this p-value is less than the common significance level of 0.05, we would reject the null hypothesis, indicating a statistically significant difference between the two time points.\n\nBy using the `summary()` and `plot()` functions in R, we can also obtain additional details about the test and visually inspect the differences between the paired observations.\n\n## Conclusion\nBased on the Wilcoxon signed-rank test results, if the p-value is less than 0.05, we conclude that there is a statistically significant difference in Job Satisfaction scores between the two time points, T1 and T2. Otherwise, there is no significant difference between the two time points.\n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}