{
  "hash": "b76937750da11f1d405a3d68ffa28adf",
  "result": {
    "markdown": "---\ntitle: \"Signed-Rank Test\"\nauthor: \"Biostatistics Working Group\"\n---\n\n\n## Overview\nThe Signed-rank test, commonly referred to as the Wilcoxon signed-rank test, is a non-parametric statistical method used to compare two related samples or repeated measurements on a single sample. This test is particularly beneficial when the differences computed on paired data deviates from the assumptions of parametric tests, offering a robust alternative for evaluating median differences. By addressing associations and ranks within paired observations, this test can provide a nuanced understanding of data distributions. \n\n![Signed-Rank Test](./figures/signedrank.png)\n### When to use a Signed-Rank Test?\nYou should use a Wilcoxon Signed-Rank Test in the following scenario:\n\n1.\tYou want to know if two groups are different on a variable of interest\n2.\tYour variable of interest is continuous\n3.\tYou have two and only two groups\n4.\tYou have independent samples\n5.\tYou have a skewed variable of interest\n\n### Getting Started with Longitudinal Signed-Rank Test\n\nIn this tutorial, we will introduce the concept of the longitudinal signed-rank test and guide you through a simple example using a small dataset. By the end of this tutorial, you will be able to:\n\n1. Understand the basic concepts of the longitudinal signed-rank test.\n2. Perform a longitudinal signed-rank test using example data in R.\n3. Interpret the results of a signed-rank test.\n\n## Basic Example\nIn this tutorial, we will begin by generating a sample dataset directly within R to ensure everyone has the same starting point and can follow along without needing to download or access external files. This generated dataset will serve as our example throughout this tutorial. In your own analyses, you'll likely start by importing your own data.\n\nThe simulated dataset created for this example consists of scores on a single outcome variable (\"Job_Satisfaction\") for 500 individuals each measured at two time points: T1-T2.\n\n#### Create Example Dataset\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-1_496449b2ce67a37f712290f3ba512db4'}\n\n```{.r .cell-code}\n# Setting the number of individuals for our sample data\nn <- 500\n\n# Specifying the desired correlation matrix for our data (2x2 for two time points)\ncor_matrix <- matrix(c(1, 0.30, \n                      0.30, 1),\n                      nrow=2)\n\n# Using Cholesky decomposition to generate correlated data\ncholesky <- chol(cor_matrix)\n\n# Generating correlated random data for 2 timepoints\nrandom_data <- matrix(rnorm(n * 2), ncol=2)\ncorrelated_data <- random_data %*% cholesky\n\n# Converting the generated data into a structured data frame in wide format\ndata <- data.frame(\n  Individual = 1:n,\n  Job_Satisfaction_T1 = correlated_data[,1],\n  Job_Satisfaction_T2 = correlated_data[,2]\n)\n```\n:::\n\n\n#### View Dataset\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-2_6ca2b1ce1c795cbbe91e75a299c30b3a'}\n\n```{.r .cell-code}\nhead(data)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"Individual\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"Job_Satisfaction_T1\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Job_Satisfaction_T2\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"-0.52534249\",\"3\":\"-1.0757523\",\"_rn_\":\"1\"},{\"1\":\"2\",\"2\":\"-1.78637283\",\"3\":\"-0.5328623\",\"_rn_\":\"2\"},{\"1\":\"3\",\"2\":\"-0.38390043\",\"3\":\"-1.2065369\",\"_rn_\":\"3\"},{\"1\":\"4\",\"2\":\"0.15879858\",\"3\":\"0.7063434\",\"_rn_\":\"4\"},{\"1\":\"5\",\"2\":\"-0.65258332\",\"3\":\"-0.8265802\",\"_rn_\":\"5\"},{\"1\":\"6\",\"2\":\"-0.07946728\",\"3\":\"0.4049886\",\"_rn_\":\"6\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Model Specification and Estimation\nTo conduct a Signed Rank Test, we will leverage the `stats` package in R, specifically the `wilcox.test` function. This non-parametric test is employed when examing changes in a single group over two time points. In the Signed Rank Test, we aim to test the hypothesis that the distribution of differences between paired measurements remains symmetric about zero, without making assumptions about the specific form of the population distribution.\n\n#### Install and Load Necessary Libraries\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-3_eb4880d0b739f1e118640e7d20967ff9'}\n\n```{.r .cell-code}\n# Load necessary packages\nif (!(\"stats\" %in% installed.packages())) install.packages(\"stats\")\nlibrary(stats)\n```\n:::\n\n\n#### Model\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-4_ccb8aabb7b1e292163eb99201f4b633a'}\n\n```{.r .cell-code}\n# Conducting the Wilcoxon Signed-Rank Test\nmodel <- wilcox.test(data$Job_Satisfaction_T1, data$Job_Satisfaction_T2, paired = TRUE)\n```\n:::\n\n\n#### Model Summary\n\n::: {.cell hash='4_Tutorials_SignedRankTest_cache/html/unnamed-chunk-5_a684e5f732a8d0dcdc28edaa47fbc3dd'}\n\n```{.r .cell-code}\n# Displaying the result\nprint(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWilcoxon signed rank test with continuity correction\n\ndata:  data$Job_Satisfaction_T1 and data$Job_Satisfaction_T2\nV = 59141, p-value = 0.2812\nalternative hypothesis: true location shift is not equal to 0\n```\n:::\n:::\n\n\n### Interpreting the Results\nThe Wilcoxon signed-rank test was conducted to compare Job Satisfaction scores at two time points: T1 and T2. This test is a non-parametric alternative to the paired t-test and is suitable when the data might not meet the normality assumption. The test yielded a W statistic of W=5.9141\\times 10^{4}. The associated p-value is p=0.281. If this p-value is less than the common significance level of 0.05, we would reject the null hypothesis, indicating a statistically significant difference between the two time points.\n\n## Conclusion\nBased on the Wilcoxon signed-rank test results, if the p-value is less than 0.05, we conclude that there is a statistically significant difference in Job Satisfaction scores between the two time points, T1 and T2. Otherwise, there is no significant difference between the two time points.\n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}